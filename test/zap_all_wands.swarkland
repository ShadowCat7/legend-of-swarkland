@test
!monster lich player 3 3
wait

!wish wand confusion
  @rng 1 range:4:8:wand_charges
pickup 0000000000000000000000000000000000000000000000000000000000000003
wait
zap -1 -1 0000000000000000000000000000000000000000000000000000000000000003
  @rng 12 inclusive:6:12:beam_length
  @rng 20 range:100:200:confusion_duration
wait
zap -1 -1 0000000000000000000000000000000000000000000000000000000000000003
wait
zap -1 -1 0000000000000000000000000000000000000000000000000000000000000003
wait

!wish wand digging
  @rng 2 range:4:8:wand_charges
pickup 0000000000000000000000000000000000000000000000000000000000000004
wait
zap -1 -1 0000000000000000000000000000000000000000000000000000000000000004
  @rng 12 inclusive:6:12:beam_length
wait
zap 1 -1 0000000000000000000000000000000000000000000000000000000000000004
  @rng 12 inclusive:6:12:beam_length
wait
zap -1 -1 0000000000000000000000000000000000000000000000000000000000000004
wait
zap -1 -1 0000000000000000000000000000000000000000000000000000000000000004
wait

!wish wand striking
  @rng 1 range:4:8:wand_charges
pickup 0000000000000000000000000000000000000000000000000000000000000005
wait
zap -1 -1 0000000000000000000000000000000000000000000000000000000000000005
  @rng 12 inclusive:6:12:beam_length
  @rng 4 range:4:8:striking_damage
wait
zap -1 -1 0000000000000000000000000000000000000000000000000000000000000005
wait
zap -1 -1 0000000000000000000000000000000000000000000000000000000000000005
wait

!wish wand speed
  @rng 1 range:4:8:wand_charges
pickup 0000000000000000000000000000000000000000000000000000000000000006
wait
zap -1 -1 0000000000000000000000000000000000000000000000000000000000000006
  @rng 12 inclusive:6:12:beam_length
  @rng 20 range:100:200:speed_duration
wait
zap -1 -1 0000000000000000000000000000000000000000000000000000000000000006
# wait for speed to wear off 
wait
wait
wait
zap -1 -1 0000000000000000000000000000000000000000000000000000000000000006
wait

!wish wand remedy
  @rng 1 range:4:8:wand_charges
pickup 0000000000000000000000000000000000000000000000000000000000000007
# get poisoned
!wish potion poison
pickup 0000000000000000000000000000000000000000000000000000000000000008
wait
quaff 0000000000000000000000000000000000000000000000000000000000000008
  @rng 600 midpoint:600:poison_expiriration
zap -1 -1 0000000000000000000000000000000000000000000000000000000000000007
  @rng 12 inclusive:6:12:beam_length
wait
zap -1 -1 0000000000000000000000000000000000000000000000000000000000000007
wait
zap -1 -1 0000000000000000000000000000000000000000000000000000000000000007
